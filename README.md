# アプリケーション名
* moyatto_app

## 概要
* このアプリケーションは、思考整理を目的としたものです。
  『課題の登録』『仮説を立てる』『結果を入力する』
  上記３つの工程を通して、思考整理から課題解決を図ることができます。
  また他ユーザーからのアドバイスを得ることもできます。

## 利用方法
### URL
  https://moyatto-app-30550.herokuapp.com/

### テスト用アカウント
  * moyatto@test
  * 111aaa

### 利用方法
  1. 新規登録を行い、ログインします。
   ログインユーザーは閲覧と編集機能、ログインしていなければ閲覧のみ可能です。
  2. moyattoの登録をします。
  （moyattoは、整理できていない思考のこと。を指します。）
  ログインユーザーは、トップページより新しいmoyattoを登録することができます。
  3. moyattoの詳細を表示します。
  トップページ下部のmoyatto一覧より、moyattoの詳細を見ることができます。
  moyattoの詳細画面では、登録済みのmoyattoの閲覧・修正・削除ができます。
  4. moyattoに仮説を立てます。
  moyattoを登録したユーザーは、課題解決に向けた仮説を立てることができます。
  登録した仮説は、テキスト部分から編集と削除を行うことができます。
  5.  仮説に結果を登録します。
  立てた仮説に対して結果を登録することができます。結果によって整理していない思考が整理できたかどうか登録を行います。（モヤットorスッキリ）
  * アドバイスを登録します。
  ログインしているユーザーであれば、登録されたmoyattoへアドバイスの投稿を行うことができます。

## 目指した課題解決
moyattoは、プログラミング初学者のためのアプリとして、学習につまづいたときに、状況を整理し、その後自ら仮説検証することで学びにつなげることを目指しました。

### 洗い出した要件
| 優先順位（高：3、　中：2、　低：1） | 機能                         | 目的                                                     | 詳細                                                                                                                                                                                                                                                                                                                 | ストーリー(ユースケース)                                                                                                                                                                                                                                                                                                                                                                                | 見積もり（所要時間） |
|-------------------------------------|------------------------------|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
| 3                                   | ユーザー管理機能             | 登録したユーザーのみが操作を許される                     | ・ログアウト状態ならば、閲覧のみ可能とする。<br>・ログイン状態ならば、登録、削除、編集ができる。<br>・新規登録画面からユーザー登録を行う。<br>・ログイン画面からログインを行うことができる。<br>・ログイン状態ならばでなければ課題の登録、アドバイスの投稿ができない。<br> 登録者本人でなければ登録内容の編集、解決済みの投稿ができない。 | ・トップページに新規登録ボタンとログインボタンが表示されている。<br>・新規登録ボタンをクリックすると登録ページが表示され、ユーザーデータを入力し、登録ボタンをクリックすると登録が完了する。<br>・ログイン画面では、emailとパスワードの入力が求められ、入力後ログインボタンをクリックすることでログインできる。<br>・ログイン状態ではトップページにログアウトボタンが表示され、クリックをするとログアウトができる。 | 5H                   |
| 3                                   | 課題登録機能                 | 課題を可視化                                             | ・フォーマットにより課題を整理しながら登録を行う                                                                                                                                                                                                                                                                     | ・課題登録ボタンをクリックすると、登録画面を呼び出す。<br>・登録画面は「やりたいこと」「できないこと」「状況」の必須入力項目がある。<br>・入力後、登録ボタンをクリック、一覧ページに戻る。                                                                                                                                                                                                                      | 8H                   |
| 3                                   | 仮説登録機能                 | 課題に仮説を立てる                                       | ・登録されている課題に、仮説を複数登録することができる。                                                                                                                                                                                                                                                             | ・課題の詳細画面から、仮説登録ボタンをクリックすると、仮説登録画面に遷移する。仮説を入力し、登録ボタンをクリックすることで課題に仮説を登録することができる。                                                                                                                                                                                                                                            | 5H                   |
| 3                                   | 結果登録機能                 | 仮説に結果を記入する                                     | ・登録されている仮説に、結論を１つ登録することができる。<br>・結論から、課題が継続しているか解決したかの登録を行う。<br>・解決した課題には、解決済みのマークが表示される。                                                                                                                                                   | ・課題登録ユーザーは、詳細画面の、仮説欄より結果を入力できる。<br>・入力後、登録時には　課題が解決した場合としない場合のボタンが用意されている。<br>・解決済みボタンをクリックすると、課題に解決済みのマークが表示される。                                                                                                                                                                                      | 5H                   |
| 2                                   | エラー画面登録機能           | エラー画面を共有することができる                         | ・課題登録時に画像を添付することができる                                                                                                                                                                                                                                                                             | ・課題登録画面で画像を添付することができる。                                                                                                                                                                                                                                                                                                                                                            | 3H                   |
| 2                                   | アドバイス機能               | 他のユーザーがアドバイスをすることができる               | ・投稿された課題の下部にアドバイス投稿欄と投稿ボタンがあり、そこからアドバイスを投稿することができる。                                                                                                                                                                                                               | ・アドバイス投稿ボタンをクリックするとアドバイス投稿欄に書かれた内容が、課題登録内容の下部に表示される。<br>・アドバイスを投稿したユーザー本人であれば、削除と編集ができる。                                                                                                                                                                                                                                | 5H                   |

### ER図
![image](https://user-images.githubusercontent.com/71678036/98879588-420b5f00-24c9-11eb-96f5-bfc1faeb89a6.png)

## テーブル設計
### users テーブル
| Column   | Type       | Options                        |
| -------- | ---------- | ------------------------------ |
| email    | string     | null: false                    |
| password |  string    | null: false                    |
| nickname | string     | null: false                    |
#### Association
- has_many :moyattos
- has_many :guesses
- has_many :sukkiris
- has_many :advices

### moyattos テーブル
| Column   | Type       | Options                        |
| -------- | ---------- | ------------------------------ |
| want     | text       | null: false                    |
| cannot   | text       | null: false                    |
| image    | image      | ActiveStorage                  |
| status   | text       | null: false                    |
| user     | references | null: false, foreign_key: true |
#### Association
- has_one :clear
- has_many :advices
- has_many :guesses
- belongs_to :user

### guesses テーブル
| Column   | Type       | Options                        |
| -------- | ---------- | ------------------------------ |
| story    | text       | null: false                    |
| user     | references | null: false, foreign_key: true |
| moyatto  | references | null: false, foreign_key: true |
#### Association
- has_one :sukkiri
- belongs_to :user
- belongs_to :moyatto

### advices テーブル
| Column   | Type       | Options                        |
| -------- | ---------- | ------------------------------ |
| comment  | text       | null: false                    |
| user     | references | null: false, foreign_key: true |
| moyatto  | references | null: false, foreign_key: true |
#### Association
- belongs_to :user
- belongs_to :moyatto

### sukkiris テーブル
| Column         | Type       | Options                        |
| -------------- | ---------- | ------------------------------ |
| result         | text       | null: false                    |
| moyatto_status | integer    | ActiveHash                     |
| user           | references | null: false, foreign_key: true |
| guess          | references | null: false, foreign_key: true |
#### Association
- belongs_to :user
- belongs_to :guess

## 実装予定の機能
* タグ付け、検索機能 (検討中)
* ビデオ通話機能 (検討中)
